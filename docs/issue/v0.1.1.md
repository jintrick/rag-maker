# Issue v0.1.1: RAGデータベース自動構築・管理プロセスの改善

## 前提知識
- docs/Architecture/Architecture.md

## 現状の問題点
- まだドキュメント以外のプロジェクトが空っぽである。
- このアプリケーションの中核ビジネスモデルは、Vector DBの構築にある。具体的には、多様なデータソースから収集したテキストデータを処理し、チャンク分割、ベクトル化を行い、ChromaDBとして保存するプロセスなので、まずはそこから構築する必要がある。

## 解決策の概要
まずはこのビジネスモデルを構築します。`make_vector_db.py`を作成し、ツールとして`discovery.json`に登録します。discovery.jsonのサンプルは、`.tmp/discovery_sample.json`にあります。

## 解決策の詳細
`make_vector_db.py`は、指定されたディレクトリ内のテキストファイルを処理し、RAGデータベース（ChromaDB）を構築するツールとして実装される。

1.  **入力**: 処理対象のテキストファイルが格納されたディレクトリのパスを受け取る。
2.  **テキスト収集**: 入力されたディレクトリ内のすべてのテキストファイル（例: `.txt`, `.md`など）を読み込む。
3.  **チャンク分割**: 収集したテキストデータを適切なサイズにチャンク分割する。LangChainのテキストスプリッターを使用することを推奨する。
4.  **ベクトル化**: 分割された各チャンクをベクトル化する。OpenAIの埋め込みモデルなど、適切な埋め込みモデルを使用する。
5.  **データベース保存**: ベクトル化されたチャンクをChromaDBとして保存する。保存先は、入力ディレクトリの直下に`.chroma/`という隠しディレクトリとして作成される。
6.  **結果の出力**: データベースの構築が完了した後、構築されたデータベースのパスと、処理されたドキュメントの内容（タイトルと概要生成のために必要な情報）を標準出力にJSON形式で出力する。`discovery.json`の更新は、このスクリプトの呼び出し元（Gemini CLI）が担当する。

## 参考とすべきスクリプト等
- .tmp/discovery_sample.json
- .tmp/tool_sample.py（エラー処理などの作法はこれを踏襲せよ）

## テスト方法
`make_vector_db.py`の機能が正しく動作することを確認するため、以下のテストを実施する。

1.  **サンプルデータの準備**: テスト用のテキストファイルを含む一時ディレクトリを作成する。
2.  **ツール実行**: `make_vector_db.py`を、準備したサンプルデータディレクトリを引数として実行する。
3.  **ChromaDBの存在確認**: 実行後、サンプルデータディレクトリ内に`.chroma/`ディレクトリが作成され、ChromaDBのファイルが格納されていることを確認する。
4.  **discovery.jsonの更新確認**: `discovery.json`を読み込み、新しく構築されたRAGデータベースのエントリが正しく追加されていること、およびパス、タイトル、概要が適切に設定されていることを確認する。