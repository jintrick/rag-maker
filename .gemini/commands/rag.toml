description = "指定されたソースからRAGデータベースを構築し、discovery.jsonに登録します。 (例: /rag ./docs/my_project)"
prompt = """
ユーザーが指定したソースパス「{{args}}」を基に、ドキュメントカタログ(`discovery.json`)を作成または更新するため、以下の手順を実行してください。

1.  ソースパス「{{args}}」の種別（ローカルディレクトリ、WebページURL、GitHubリポジトリURL）を判断してください。
2.  現時点ではローカルディレクトリのみを対象とします。`generate_document_catalog.py` ツールを以下の引数で実行してください。
    *   `--input-dir`: 「{{args}}」で指定されたパス
    *   `--output-file`: `discovery.json`
3.  ツールの実行が完了したら、その旨をユーザーに通知してください。
"""
トリの場合: `download_git_docs`ツールを用いてキュメントファイルを抽出します。
3.  収集した全テキストデータを処理し、Vector DBを構築してください。
    *   テキストをチャンク分割し、ベクトル化します。
    *   ソースがローカルディレクトリの場合、そのディレクトリ内に`.chroma/`という隠しディレクトリを作成し、そこにVector DB（ChromaDB）を保存します。
4.  収集したドキュメントの内容を基に、LLMを用いて`title`と`summary`を生成してください。
5.  プロジェクトルートの`discovery.json`を読み込んでください。
6.  生成した`title`, `summary`と、データベースの`path`を`discovery.json`の`documents`配列に追記または更新してください。
7.  構築と登録が完了したことをユーザーに通知してください。
"""
