description = "指定されたソースからRAGデータベースを構築し、discovery.jsonに登録します。 (例: /rag ./docs/my_project)"
prompt = """
ユーザーが指定したソースパス「{{args}}」からRAGデータベースを構築し、`discovery.json`に登録するため、以下の手順を実行してください。

1.  ソースパス「{{args}}」の種別（ローカルディレクトリ、WebページURL、GitHubリポジトリURL）を判断してください。
2.  ソースからテキストデータを収集してください。
    *   ローカルディレクトリの場合: 指定されたディレクトリ内のテキストファイルを収集します。
    *   Webページの場合: 指定URLの本文を抽出し、ルールに基づき再帰的にリンクを探索・収集します。
    *   GitHubリポジトリの場合: `download_git_docs`ツールを用いてキュメントファイルを抽出します。
3.  収集した全テキストデータを処理し、Vector DBを構築してください。
    *   テキストをチャンク分割し、ベクトル化します。
    *   ソースがローカルディレクトリの場合、そのディレクトリ内に`.chroma/`という隠しディレクトリを作成し、そこにVector DB（ChromaDB）を保存します。
4.  収集したドキュメントの内容を基に、LLMを用いて`title`と`summary`を生成してください。
5.  プロジェクトルートの`discovery.json`を読み込んでください。
6.  生成した`title`, `summary`と、データベースの`path`を`discovery.json`の`documents`配列に追記または更新してください。
7.  構築と登録が完了したことをユーザーに通知してください。
"""
